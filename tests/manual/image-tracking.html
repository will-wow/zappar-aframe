<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title><%= htmlWebpackPlugin.options.title %></title>
        <style>
            html,
            body {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100%;
            }
        </style>
    </head>

    <body>
            <a-scene>

            <a-assets>
                <img id="target-image" src="../assets/planes/target.jpg"/>
                <img id="scene-image" src="../assets/planes/scene.jpg"/>
                <img id="camera-image" src="../assets/planes/camera.jpg"/>
                <a-asset-item id="target-file" src="../assets/zpt/restflyer.zpt"/>
            </a-assets>

            <a-entity camera zappar-camera="pose-anchor-origin: #anchor; pose-mode: default;">
                <a-plane position="0 0 -5" height="0.25" src="#camera-image"></a-plane>
            </a-entity>

            <a-plane position="0 -0.5 -5" height="0.25" src="#scene-image"></a-plane>
            <a-entity zappar-image="target: #target-file" id="anchor">
                <a-plane height="0.25" src="#target-image"></a-plane>
            </a-entity>

            <script>

            let myImageTracker = document.getElementById("anchor");
            console.log(myImageTracker);

            myImageTracker.addEventListener("zappar-visible", () => {
                console.log("Image has become visible");
            });

            myImageTracker.addEventListener("zappar-notvisible", () => {
                console.log("Image is no longer visible");
            });

            </script>

        </a-scene>
    </body>
</html>
